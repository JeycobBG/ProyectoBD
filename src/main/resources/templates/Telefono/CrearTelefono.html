<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Registrar Teléfono</title>
</head>
<body>
    <h2>Registrar un nuevo teléfono</h2>

<div class="container">
    <div>
    <form id="registrarTelefonoForm" action="/telefono/guardar" method="post">
        
        <!-- Campo para el número del teléfono -->
        <label for="numero">Número de teléfono:</label><br>
        <input type="text" id="numero" name="numero" required><br>
        
        <!-- Combo box para seleccionar la persona asociada -->
        <label for="persona">Persona asociada:</label><br>
        <select id="persona" name="persona" required>
            <option value="">Selecciona una persona</option>
            <!-- Aquí puedes cargar dinámicamente las opciones de persona desde tu backend -->
            <!-- Por ejemplo, podrías iterar sobre una lista de personas disponibles -->
            <!-- y generar opciones para cada una -->
            <option value="persona1">Persona 1</option>
            <option value="persona2">Persona 2</option>
            <option value="persona3">Persona 3</option>
            <!-- Fin de las opciones de ejemplo -->
        </select><br>
        
        <!-- Puedes agregar más campos según necesites para el teléfono -->
        
        <input type="submit" value="Guardar">
    </form>
    </div>
</div>
  <div class="alert alert-success" th:if="${exito!=null}" th:text="${exito}"></div>
  <div class="alert alert-error" th:if="${error!=null}" th:text="${error}"></div>

<script>
    // Validación del formulario
    document.getElementById("registrarTelefonoForm").addEventListener("submit", function(event) {
        var numero = document.getElementById("numero").value;
        var persona = document.getElementById("persona").value;
        
        // Validar que todos los campos estén completos
        if (numero.trim() === "" || persona === "") {
            alert("Por favor completa todos los campos.");
            event.preventDefault();
            return;
        }
        
        // Validar que el número de teléfono contenga solo números
        if (!/^\d+$/.test(numero)) {
            alert("El número de teléfono solo puede contener números.");
            event.preventDefault();
            return;
        }
    });
</script>
</body>
</html>
